"use strict";function asyncGeneratorStep(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(s){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=s.apply(e,i);function a(e){asyncGeneratorStep(r,t,n,a,o,"next",e)}function o(e){asyncGeneratorStep(r,t,n,a,o,"throw",e)}a(void 0)})}}var mainForm=document.querySelector("#form-contact"),sendBtn=document.querySelector("#send-btn"),statusWindow=document.querySelector(".status"),messages={loading:"Loading...",success:"Thanks! We will contact you.",failure:"Something gone wrong?"};function validateForm(e){var t=!0;return validateField(e.elements.name)||(t=!1),validateField(e.elements.email)||(t=!1),validateField(e.elements.subject)||(t=!1),t=!validateField(e.elements.message)?!1:t}function validateField(e){return e.nextElementSibling.textContent=e.validationMessage,e.checkValidity()}mainForm.addEventListener("submit",function(e){e.preventDefault(),console.log(validateForm(mainForm)),!0===validateForm(mainForm)&&(e=new FormData(mainForm),console.log(e),postData("../server/server.php",e))});var postData=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.createElement("div")).textContent=messages.loading,statusWindow.appendChild(r),e.next=5,fetch(t,{method:"POST",body:n});case 5:return r=e.sent,e.next=8,r.text();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}();